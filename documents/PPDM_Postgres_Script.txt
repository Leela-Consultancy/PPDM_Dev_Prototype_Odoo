SET SCHEMA 'master';
 
/* SQLINES DEMO *** abase [PPDM]    Script Date: 09/11/2022 23:26:51 ******/
CREATE DATABASE [PPDM]
 CONTAINMENT = NONE
 ON  PRIMARY 
( NAME = N'PPDM', FILENAME = N'C:Program FilesMicrosoft SQL ServerMSSQL15.MSSQLSERVERMSSQLDATAPPDM.mdf' , SIZE = 8192KB , MAXSIZE = UNLIMITED, FILEGROWTH = 65536KB )
 LOG ON 
( NAME = 'PPDM_log', FILENAME = 'C:Program FilesMicrosoft SQL ServerMSSQL15.MSSQLSERVERMSSQLDATAPPDM_log.ldf' , SIZE = 8192KB , MAXSIZE = 2048GB , FILEGROWTH = 65536KB )
 -- SQLINES LICENSE FOR EVALUATION USE ONLY
 WITH CATALOG_COLLATION = DATABASE_DEFAULT
GO
ALTER DATABASE [PPDM] SET COMPATIBILITY_LEVEL = 150
GO
IF (1 = FULLTEXTSERVICEPROPERTY('IsFullTextInstalled'))
then
EXECUTE [PPDM].dbo.sp_fulltext_database; @action = 'enable'
end if;
 
ALTER DATABASE [PPDM] /* SET ANSI_NULL_DEFAULT OFF */ 
 
ALTER DATABASE [PPDM] /* SET ANSI_NULLS OFF */ 
 
ALTER DATABASE [PPDM] /* SET ANSI_PADDING OFF */ 
 
ALTER DATABASE [PPDM] /* SET ANSI_WARNINGS OFF */ 
 
ALTER DATABASE [PPDM] /* SET ARITHABORT OFF */ 
 
ALTER DATABASE [PPDM] /* SET AUTO_CLOSE OFF */ 
 
ALTER DATABASE [PPDM] /* SET AUTO_SHRINK OFF */ 
 
ALTER DATABASE [PPDM] /* SET AUTO_UPDATE_STATISTICS ON */ 
 
ALTER DATABASE [PPDM] /* SET CURSOR_CLOSE_ON_COMMIT OFF */ 
 
ALTER DATABASE [PPDM] /* SET CURSOR_DEFAULT  GLOBAL */ 
 
ALTER DATABASE [PPDM] /* SET CONCAT_NULL_YIELDS_NULL OFF */ 
 
ALTER DATABASE [PPDM] /* SET NUMERIC_ROUNDABORT OFF */ 
 
ALTER DATABASE [PPDM] /* SET QUOTED_IDENTIFIER OFF */ 
 
ALTER DATABASE [PPDM] /* SET RECURSIVE_TRIGGERS OFF */ 
 
ALTER DATABASE [PPDM] SET  DISABLE_BROKER 
GO
ALTER DATABASE [PPDM] /* SET AUTO_UPDATE_STATISTICS_ASYNC OFF */ 
 
ALTER DATABASE [PPDM] /* SET DATE_CORRELATION_OPTIMIZATION OFF */ 
 
ALTER DATABASE [PPDM] /* SET TRUSTWORTHY OFF */ 
 
ALTER DATABASE [PPDM] /* SET ALLOW_SNAPSHOT_ISOLATION OFF */ 
 
ALTER DATABASE [PPDM] /* SET PARAMETERIZATION SIMPLE */ 
 
ALTER DATABASE [PPDM] /* SET READ_COMMITTED_SNAPSHOT OFF */ 
 
ALTER DATABASE [PPDM] /* SET HONOR_BROKER_PRIORITY OFF */ 
 
ALTER DATABASE [PPDM] /* SET RECOVERY FULL */ 
 
ALTER DATABASE [PPDM] SET  MULTI_USER 
 
ALTER DATABASE [PPDM] /* SET PAGE_VERIFY CHECKSUM */  
 
ALTER DATABASE [PPDM] /* SET DB_CHAINING OFF */ 
 
ALTER DATABASE [PPDM] SET FILESTREAM( NON_TRANSACTED_ACCESS = OFF ) 
 
ALTER DATABASE [PPDM] SET TARGET_RECOVERY_TIME = 60 SECONDS 
 
ALTER DATABASE [PPDM] SET DELAYED_DURABILITY = DISABLED 
 
ALTER DATABASE [PPDM] SET ACCELERATED_DATABASE_RECOVERY = OFF  
GO
EXECUTE sys.sp_db_vardecimal_storage_format 'PPDM', 'ON'
GO
ALTER DATABASE [PPDM] SET QUERY_STORE = OFF
 
SET SCHEMA 'PPDM';
 
/* SQLINES DEMO *** le [dbo].[CookieCategories]    Script Date: 09/11/2022 23:26:52 ******/
/* SET ANSI_NULLS ON */
 
/* SET QUOTED_IDENTIFIER ON */
 
-- SQLINES LICENSE FOR EVALUATION USE ONLY
CREATE TABLE CookieCategories(
	CookieCategoryId int NOT NULL,
	CookieCategoryName Varchar(250) NOT NULL,
 CONSTRAINT PK_CookieCategories PRIMARY KEY 
(
	CookieCategoryId 
) 
);
/* SQLINES DEMO *** le [dbo].[PrivacyPolicies]    Script Date: 09/11/2022 23:26:52 ******/
/* SET ANSI_NULLS ON */
 
/* SET QUOTED_IDENTIFIER ON */
 
-- SQLINES LICENSE FOR EVALUATION USE ONLY
CREATE TABLE PrivacyPolicies(
	PrivacyPolicyId int GENERATED ALWAYS AS IDENTITY(START WITH 1 INCREMENT BY 1) NOT NULL,
	PrivacyPolicyData Char(10) NOT NULL,
PRIMARY KEY 
(
	PrivacyPolicyId 
) 
);
/* SQLINES DEMO *** le [dbo].[SiteCookies]    Script Date: 09/11/2022 23:26:52 ******/
/* SET ANSI_NULLS ON */
 
/* SET QUOTED_IDENTIFIER ON */
 
-- SQLINES LICENSE FOR EVALUATION USE ONLY
CREATE TABLE SiteCookies(
	SiteId int NOT NULL,
	CookieCategoryId int NOT NULL,
 CONSTRAINT UQ_Site_CookieCategory UNIQUE 
(
	SiteId 
) 
);
/* SQLINES DEMO *** le [dbo].[SitePrivacyPolicies]    Script Date: 09/11/2022 23:26:52 ******/
/* SET ANSI_NULLS ON */
 
/* SET QUOTED_IDENTIFIER ON */
 
-- SQLINES LICENSE FOR EVALUATION USE ONLY
CREATE TABLE SitePrivacyPolicies(
	SiteId int NOT NULL,
	PrivacyPolicyId int NOT NULL,
 CONSTRAINT UQ_SitePrivacyPolicies UNIQUE 
(
	SiteId 
) 
);
/* SQLINES DEMO *** le [dbo].[Sites]    Script Date: 09/11/2022 23:26:52 ******/
/* SET ANSI_NULLS ON */
 
/* SET QUOTED_IDENTIFIER ON */
 
-- SQLINES LICENSE FOR EVALUATION USE ONLY
CREATE TABLE Sites(
	SiteId int GENERATED ALWAYS AS IDENTITY(START WITH 1 INCREMENT BY 1) NOT NULL,
	SiteName Char(255) NOT NULL,
PRIMARY KEY 
(
	SiteId 
) 
);
/* SQLINES DEMO *** le [dbo].[SiteVendors]    Script Date: 09/11/2022 23:26:52 ******/
/* SET ANSI_NULLS ON */
 
/* SET QUOTED_IDENTIFIER ON */
 
-- SQLINES LICENSE FOR EVALUATION USE ONLY
CREATE TABLE SiteVendors(
	SiteId int NOT NULL,
	VendorId int NOT NULL,
	CookieCategoryId int NOT NULL
);
/* SQLINES DEMO *** le [dbo].[Users]    Script Date: 09/11/2022 23:26:52 ******/
/* SET ANSI_NULLS ON */
 
/* SET QUOTED_IDENTIFIER ON */
 
-- SQLINES LICENSE FOR EVALUATION USE ONLY
CREATE TABLE Users(
	UserId int NOT NULL,
	UserName Varchar(250) NOT NULL,
	UserEmail Varchar(250) NOT NULL
);
/* SQLINES DEMO *** le [dbo].[Vendors]    Script Date: 09/11/2022 23:26:52 ******/
/* SET ANSI_NULLS ON */
 
/* SET QUOTED_IDENTIFIER ON */
 
-- SQLINES LICENSE FOR EVALUATION USE ONLY
CREATE TABLE Vendors(
	VendorId int NOT NULL,
	VendorName Varchar(250) NOT NULL,
 CONSTRAINT PK_Vendors PRIMARY KEY 
(
	VendorId 
) 
);
ALTER TABLE SiteCookies  ADD  CONSTRAINT FK_SiteCookies_CookieCategories FOREIGN KEY(CookieCategoryId)
REFERENCES CookieCategories (CookieCategoryId);
 
ALTER TABLE SiteCookies VALIDATE CONSTRAINT FK_SiteCookies_CookieCategories;
 
ALTER TABLE SiteCookies  ADD  CONSTRAINT FK_SiteCookies_Sites FOREIGN KEY(SiteId)
REFERENCES Sites (SiteId);
 
ALTER TABLE SiteCookies VALIDATE CONSTRAINT FK_SiteCookies_Sites;
 
ALTER TABLE SitePrivacyPolicies  ADD  CONSTRAINT FK_SitePrivacyPolicies_PrivacyPolicies FOREIGN KEY(PrivacyPolicyId)
REFERENCES PrivacyPolicies (PrivacyPolicyId);
 
ALTER TABLE SitePrivacyPolicies VALIDATE CONSTRAINT FK_SitePrivacyPolicies_PrivacyPolicies;
 
ALTER TABLE SitePrivacyPolicies  ADD  CONSTRAINT FK_SitePrivacyPolicies_Sites FOREIGN KEY(SiteId)
REFERENCES Sites (SiteId);
 
ALTER TABLE SitePrivacyPolicies VALIDATE CONSTRAINT FK_SitePrivacyPolicies_Sites;
 
ALTER TABLE SiteVendors  ADD  CONSTRAINT FK_SiteVendors_CookieCategories FOREIGN KEY(CookieCategoryId)
REFERENCES CookieCategories (CookieCategoryId);
 
ALTER TABLE SiteVendors VALIDATE CONSTRAINT FK_SiteVendors_CookieCategories;
 
ALTER TABLE SiteVendors  ADD  CONSTRAINT FK_SiteVendors_Sites FOREIGN KEY(SiteId)
REFERENCES Sites (SiteId);
 
ALTER TABLE SiteVendors VALIDATE CONSTRAINT FK_SiteVendors_Sites;
 
ALTER TABLE SiteVendors  ADD  CONSTRAINT FK_SiteVendors_Vendors FOREIGN KEY(VendorId)
REFERENCES Vendors (VendorId);
 
ALTER TABLE SiteVendors VALIDATE CONSTRAINT FK_SiteVendors_Vendors;
 
SET SCHEMA 'master';
 
ALTER DATABASE [PPDM] SET  READ_WRITE 
 
